<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        let arrayAgi = []
        let arrayStr = []
        let arrayInt = []


        document.addEventListener("DOMContentLoaded",() => {
            axios.get("http://localhost:3000/heroes").then((res)=>{
                let allHeroes = res.data
                
                for (let i = 0; i< allHeroes.length; i++) {
                  if (allHeroes[i].mainAttribute == "str") {
                      arrayStr.push(allHeroes[i])
                  }else if (allHeroes[i].mainAttribute == "agi") {
                      arrayAgi.push(allHeroes[i])                
                  }else if (allHeroes[i].mainAttribute == "int") {
                      arrayInt.push(allHeroes[i])
                  }
                }
                let agiGroupHeroe = document.getElementById("agi")
                let strGroupHeroe = document.getElementById("str")
                let intGroupHeroe = document.getElementById("int")
                for (let i = 0; i< arrayAgi.length; i++){
                  const heroiAtual = arrayAgi[i] 
                  const heroiAtualImg = heroiAtual.urlImg
                  const heroiAtualAttImg = heroiAtual.attributeImg                  
                  let agiHeroCard = document.createElement("div")
                  let agiHeroImg = document.createElement("div") // div style.background(urlimg)>relative... appendchild(heroname)>absolut 
                  let agiHeroName = document.createElement("div")  
                  let agiHeroAttribute = document.createElement("img")                
                  agiHeroImg.style.backgroundImage = "url('" + heroiAtualImg + "')"
                  agiHeroAttribute.src = heroiAtualAttImg
                  agiHeroAttribute.classList.add("heroAttributeImg")
                  agiHeroImg.classList.add("heroImgCover","heroPortrait")                  
                  agiHeroImg.src = heroiAtualImg    
                  agiHeroName.classList.add("heroName")
                  agiHeroName.textContent = heroiAtual.name
                  agiHeroCard.appendChild(agiHeroImg)
                  agiHeroImg.appendChild(agiHeroName)
                  agiHeroName.appendChild(agiHeroAttribute)                  
                  agiGroupHeroe.appendChild(agiHeroCard)
                    //agiheroimg.style.backgroundImage = "url('URL')|none|initial|inherit"
                  // 1ยบ trnasformar a tag img em uma tag de div, e background com url da imagem
                  // 2ยบ div do tamanho da img, pai da img, e a img e a div crescem juntos, texto como filho da div que vai ser absoluta
                  //position:absolut na div com agiHeroName
                  //bottom:0px
                  //  <img class="" src="">
                  //   nome do heroi
                  //  </img>
                  
                } 
                for (let i = 0; i< arrayStr.length; i++){
                    const heroiAtual = arrayStr[i]
                    const heroiAtualImg = heroiAtual.urlImg
                    const heroiAtualAttImg = heroiAtual.attributeImg
                    let strHeroCard = document.createElement("div")
                    let strHeroImg = document.createElement("div")
                    let strHeroName = document.createElement("div")
                    let strHeroAttribute = document.createElement("img")
                    strHeroImg.style.backgroundImage = "url('" + heroiAtualImg + "')"
                    strHeroAttribute.src = heroiAtualAttImg
                    strHeroAttribute.classList.add("heroAttributeImg")
                    strHeroImg.classList.add("heroImgCover", "heroPortrait")  
                    strHeroImg.src = heroiAtualImg
                    strHeroName.textContent = heroiAtual.name
                    strHeroName.classList.add("heroName")
                    strHeroCard.appendChild(strHeroImg)
                    strHeroImg.appendChild(strHeroName)
                    strHeroName.appendChild(strHeroAttribute)
                    strGroupHeroe.appendChild(strHeroCard)
                  } 

                  for (let i = 0; i< arrayInt.length; i++){
                    const heroiAtual = arrayInt[i]
                    const heroiAtualImg = heroiAtual.urlImg
                    const heroiAtualAttImg = heroiAtual.attributeImg
                    let intHeroCard = document.createElement("div")
                    let intHeroImg = document.createElement("div")
                    let intHeroName = document.createElement("div")
                    let intHeroAttribute = document.createElement("img")
                    intHeroImg.style.backgroundImage = "url('" + heroiAtualImg + "')"
                    intHeroAttribute.src = heroiAtualAttImg
                    intHeroAttribute.classList.add("heroAttributeImg")
                    intHeroImg.classList.add("heroImgCover","heroPortrait") 
                    intHeroImg.src = heroiAtualImg
                    intHeroName.textContent = heroiAtual.name
                    intHeroName.classList.add("heroName")
                    intHeroCard.appendChild(intHeroImg)
                    intHeroImg.appendChild(intHeroName)
                    intHeroName.appendChild(intHeroAttribute)
                    intGroupHeroe.appendChild(intHeroCard)
                }
                console.log(arrayStr)
                console.log(arrayInt)
                console.log(arrayAgi)                
                          
            }).catch()
        })
    </script>
    <title>DOTA 1 V 1</title>
    <style>
      .background {
        background-image: url("background.jpg");
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        height: 100vh;
        width: 100vw;
        margin: 0;
      }

      .hero-groups-container {
        display:flex;
        flex-direction: column;
        height:50vh ;
        width:100vw ;
                                
      }

      .hero-group {
        display:flex;
        flex-direction:row;
        height:30vh;
        width:100vw;
        flex-wrap: wrap;
        margin-left: 30px;
        
        align-content: space-around;   
        margin-top: 15px;      
                   
      }

      .background::before {
        z-index: -1;
        content: "";
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        background-color: rgba(0, 0, 0, 0.25);
        pointer-events: none;
      }

      @font-face {
        font-family: "Reaver";
        src: url("https://cdn.cloudflare.steamstatic.com/apps/dota2/fonts/Reaver-Regular.woff")
            format("woff"),
          url("https://cdn.cloudflare.steamstatic.com/apps/dota2/fonts/Reaver-Regular.ttf")
            format("truetype");
        font-weight: 400;
        font-style: normal;
      }
      
      .centralized-text {
        text-align: center;
      }
      .white-text {
        color: white;
      }

      .reaver {
        font-family: "Reaver";
      }

      .heroPortrait {
        
        position: relative;
        height: 8vh;
        width: 6vw;
        margin-left: 7px;
        margin-top: 7px;

      }

      .heroPortrait:hover {                   
        height: 10vh;
        width: 8vw;
        transition: width 1s, height 1s;
      }

      .heroPortrait:hover .heroName {             
        /* visibility: visible; */
        opacity: 1;
        transition: opacity 1.5s;
      }

      .heroImgCover { 
        
        background-size: cover;
        background-position: center ;
      } 

      .heroName { 
        display: flex;
        flex-wrap: nowrap;
        opacity: 0;
        /* visibility: hidden; */
        position:absolute;
        bottom: 0px;
        right: 0px;
      }

      .heroAttributeImg {
        position: relative;
        width: 1vw;
        height:  2vh;
        
      }


    


    </style>
  </head>

  <body class="background">
    <div style="display: flex; justify-content: center">
      <!--Titulo-->
      <h1 class="reaver centralized-text white-text" style="font-size: 225%">
        D O T A <br />
        1 VS 1
      </h1>
    </div>

    <div class="hero-groups-container white-text">
        <div class = "hero-group " id="str">
        
            
        </div>
        <div class = "hero-group " id="agi">

        </div>
        <div class = "hero-group " id="int">

        </div>

    </div>
  </body>
</html>
